<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profesyonel Eğitim Quizi - Kodlama Desteği</title>
    <style>
        /* CSS kodlarımızı buraya ekleyeceğiz, şimdilik sadece temel görünüm */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        #zamanlayici {
            font-size: 1.5em;
            color: #d9534f;
            text-align: right;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #d9534f;
            border-radius: 4px;
            display: inline-block;
        }
        .soru-alani {
            border-top: 2px solid #337ab7;
            padding-top: 15px;
        }
        .soru {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .sonuc-alani {
            margin-top: 30px;
            padding: 20px;
            background-color: #f9f9c5;
            border: 2px solid #ffc107;
            border-radius: 4px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>20 Soruluk Karışık Sınav</h1>
        <div id="zamanlayici">Kalan Süre: 30:00</div> 
        <div class="soru-alani">
            <h2>Sınav Soruları</h2>
            <button onclick="testiBitir()">Testi Bitir ve Puanla</button>
        </div>
        <div class="sonuc-alani" style="display:none;">
            <h3>Sınav Sonuçlarınız</h3>
            <p>Doğru Cevap Sayısı: <span id="dogruSayisi">0</span></p>
            <p>Yanlış Cevap Sayısı: <span id="yanlisSayisi">0</span></p>
            <p>Boş Bırakılan Soru Sayısı: <span id="bosSayisi">0</span></p>
            <p>Ham Puanınız: <span id="hamPuan">0</span></p>
        </div>
    </div>

    <script>
        // --- 1. SORU VERİSİ ---
        const sorular = [
            {
                soru: "HTML ne anlama gelmektedir?",
                secenekler: {
                    a: "Hyper Text Markup Language",
                    b: "High Tech Modern Language",
                    c: "Home Tool Multi Language"
                },
                dogruCevap: "a"
            },
            {
                soru: "CSS ne için kullanılır?",
                secenekler: {
                    a: "Veritabanı yönetimi",
                    b: "Web sayfalarını stilize etme",
                    c: "Sunucu tarafı programlama"
                },
                dogruCevap: "b"
            },
            {
                soru: "JavaScript'in yaygın bir kullanım alanı nedir?",
                secenekler: {
                    a: "İşletim sistemi geliştirme",
                    b: "Web tarayıcılarında etkileşim ekleme",
                    c: "Mobil uygulama derleme"
                },
                dogruCevap: "b"
            }
            // Lütfen diğer soruları da buraya bu formatta ekle!
        ];

        // --- 2. SORULARI DİNAMİK YÜKLEME FONKSİYONU ---
        const soruAlani = document.querySelector('.soru-alani');
        const bitirButonu = document.querySelector('button[onclick="testiBitir()"]');
        const sonucAlani = document.querySelector('.sonuc-alani');

        function sorulariYukle() {
            let yuklenecekHTML = '';
            
            sorular.forEach((soruBilgisi, index) => {
                const soruNumarasi = index + 1;
                let secenekHTML = '';
                
                for (const secenekHarfi in soruBilgisi.secenekler) {
                    secenekHTML += `
                        <label>
                            <input type="radio" name="soru${soruNumarasi}" value="${secenekHarfi}">
                            ${soruBilgisi.secenekler[secenekHarfi]}
                        </label><br>
                    `;
                }
                
                yuklenecekHTML += `
                    <div class="soru" data-soru-index="${index}">
                        <p><strong>${soruNumarasi}. Soru:</strong> ${soruBilgisi.soru}</p>
                        ${secenekHTML}
                    </div>
                `;
            });
            
            // Oluşturulan HTML'i, bitir butonunun hemen öncesine ekle
            bitirButonu.insertAdjacentHTML('beforebegin', yuklenecekHTML);
        }

        // Sayfa yüklendiğinde soruları hemen yükle
        sorulariYukle();


        // --- 3. PUANLAMA VE BİTİRME FONKSİYONU (GÜNCELLENDİ) ---
        function testiBitir(süreBitti = false) {
            // Eğer süre bittiyse ve zaten bitirildiyse tekrar çalıştırma
            if (süreBitti) {
                clearInterval(intervalId); // Zamanlayıcıyı durdur
            }

            let dogruSayisi = 0;
            let yanlisSayisi = 0;
            let bosSayisi = 0;
            const yanlisGötürmeKatsayısı = 0.25; // 4 yanlış 1 doğruyu götürsün (ÖSYM kuralı)

            sorular.forEach((soruBilgisi, index) => {
                const soruNumarasi = index + 1;
                // Kullanıcının seçtiği cevabı bul
                const seciliCevapElementi = document.querySelector(`input[name="soru${soruNumarasi}"]:checked`);

                if (!seciliCevapElementi) {
                    bosSayisi++;
                } else {
                    const kullaniciCevabi = seciliCevapElementi.value;
                    if (kullaniciCevabi === soruBilgisi.dogruCevap) {
                        dogruSayisi++;
                    } else {
                        yanlisSayisi++;
                    }
                }
            });

            // Ham puan hesaplaması (Yanlışların Düzeltilmesi)
            const netDogru = dogruSayisi - (yanlisSayisi * yanlisGötürmeKatsayısı);
            const hamPuan = Math.max(0, netDogru * (100 / sorular.length)).toFixed(2); // Her sorunun puanını alıp 100 üzerinden puanlama

            // Sonuçları ekrana yazdırma
            document.getElementById('dogruSayisi').textContent = dogruSayisi;
            document.getElementById('yanlisSayisi').textContent = yanlisSayisi;
            document.getElementById('bosSayisi').textContent = bosSayisi;
            document.getElementById('hamPuan').textContent = hamPuan;

            // Sonuç alanını göster
            sonucAlani.style.display = 'block';
            
            // Sınav alanını gizle (isteğe bağlı)
            soruAlani.style.display = 'none';

            // Zamanlayıcıyı durdur ve son durumunu yaz
            clearInterval(intervalId); 
            document.getElementById('zamanlayici').textContent = süreBitti ? "SÜRE DOLDU - TEST BİTTİ" : "TEST BİTİRİLDİ";

            alert(`Sınavınız tamamlandı! Doğru: ${dogruSayisi}, Yanlış: ${yanlisSayisi}, Boş: ${bosSayisi}.`);
        }

        // --- 4. ZAMANLAYICI KODU ---
        let kalanSureSaniye = 30 * 60; // 30 dakika
        const zamanlayiciElement = document.getElementById('zamanlayici');
        let intervalId; 

        function sureyiGuncelle() {
            const dakika = Math.floor(kalanSureSaniye / 60);
            const saniye = kalanSureSaniye % 60;

            const formatliDakika = String(dakika).padStart(2, '0');
            const formatliSaniye = String(saniye).padStart(2, '0');

            zamanlayiciElement.textContent = `Kalan Süre: ${formatliDakika}:${formatliSaniye}`;

            kalanSureSaniye--;

            if (kalanSureSaniye < 0) {
                clearInterval(intervalId); 
                zamanlayiciElement.textContent = "SÜRE DOLDU!";
                // süreBitti parametresini true göndererek puanlama yap
                testiBitir(true); 
            }
        }

        // Geri sayımı başlatan kısım.
        intervalId = setInterval(sureyiGuncelle, 1000); 
        sureyiGuncelle();
        /* --- YENİ EKLENECEK CSS KODLARI --- */

/* Radio Butonları İçin Stil */
.soru label {
    display: block; /* Her seçeneği yeni bir satıra alır */
    margin: 8px 0;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    transition: background-color 0.2s;
    cursor: pointer; /* Fare imlecini el işaretine çevirir */
}

/* Fare üzerine gelince arka plan rengini değiştirme */
.soru label:hover {
    background-color: #e9ecef;
}

/* Seçili radio butonu için görsel geri bildirim */
.soru input[type="radio"]:checked + label {
    background-color: #d1ecf1; /* Açık mavi arka plan */
    border-color: #bee5eb; /* Daha belirgin çerçeve */
}

/* Radio butonunun kendisini gizleyip, label ile kullanma (isteğe bağlı ama modern bir yaklaşımdır) */
.soru label input[type="radio"] {
    margin-right: 10px;
    /* İstersen butonu tamamen gizleyip sadece label'ın stilini kullanabilirsin */
    /* appearance: none;
    -webkit-appearance: none;
    display: none; */
}

/* Testi Bitir Butonu Stili */
button {
    background-color: #337ab7;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.1em;
    margin-top: 20px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #286090;
}

    </script>
</body>
</html>
